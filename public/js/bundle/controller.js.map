{"mappings":"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","sources":["controller.js","helpers.js","config.js","model.js","views/loginView.js","views/View.js","views/navView.js","views/accountView.js","views/addressesView.js","views/adminMenuView.js","views/adminMenuEditView.js","views/registerView.js","views/resetPasswordView.js","views/emailConfirmView.js","views/menuView.js","views/shoppingCartView.js","views/checkoutInfoView.js","views/checkoutCreditCardView.js"],"sourcesContent":["\"use strict\";\r\n// import { loadMercadoPago } from \"@mercadopago/sdk-js\";\r\n\r\nimport mercadopago from \"mercadopago\";\r\n\r\nconsole.log(mercadopago);\r\n\r\nimport { reloadPage, renderNotification } from \"./helpers.js\";\r\nimport * as model from \"./model.js\";\r\nimport loginView from \"./views/loginView.js\";\r\nimport navView from \"./views/navView.js\";\r\nimport accountView from \"./views/accountView.js\";\r\nimport addressesView from \"./views/addressesView.js\";\r\nimport adminMenuView from \"./views/adminMenuView.js\";\r\nimport adminMenuEditView from \"./views/adminMenuEditView.js\";\r\nimport registerView from \"./views/registerView.js\";\r\nimport resetPasswordView from \"./views/resetPasswordView.js\";\r\nimport emailConfirmView from \"./views/emailConfirmView.js\";\r\nimport menuView from \"./views/menuView.js\";\r\nimport shoppingCartView from \"./views/shoppingCartView.js\";\r\nimport checkoutInfoView from \"./views/checkoutInfoView.js\";\r\nimport checkoutCreditCardView from \"./views/checkoutCreditCardView.js\";\r\n\r\n//TODO: Do better testing for errors adter adding toaster\r\n\r\n//TODO:Pagina meus pedidos\r\n//TODO:Painel admin : manejar receitas, manejar usuarios\r\n\r\n//TODO: Export accout navigation into its own pug template\r\n//TODO:Check if every eventListener has an if conditional, so it doesn't keep throwing erros\r\n\r\nconst loginController = async function (email, password) {\r\n  try {\r\n    // Send login request\r\n\r\n    await model.sendLoginRequest(email, password);\r\n\r\n    loginView.renderSuccessIcon();\r\n\r\n    reloadPage(1.5);\r\n\r\n    //reload page\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst logoutController = async function () {\r\n  try {\r\n    await model.sendLogoutRequest();\r\n\r\n    location.assign(\"/\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst updateUserController = async function (data, type) {\r\n  try {\r\n    if (type === \"password\")\r\n      accountView.changePasswordBtnText(\"Atualizando ...\");\r\n    else accountView.changeInfoBtnText(\"Atualizando ...\");\r\n\r\n    await model.sendUpdateUserRequest(data, type);\r\n\r\n    accountView.clearPasswordInputFields();\r\n    if (type === \"password\") accountView.changePasswordBtnText(\"Salvar Senha\");\r\n    else accountView.changeInfoBtnText(\"Salvar Configurações\");\r\n\r\n    //TODO: Render success toast notification\r\n    renderNotification(\"success\", \"Configurações salvas com êxito\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n    accountView.clearPasswordInputFields();\r\n    if (type === \"password\") accountView.changePasswordBtnText(\"Salvar Senha\");\r\n    else accountView.changeInfoBtnText(\"Salvar Configurações\");\r\n  }\r\n};\r\n\r\nconst addAddressController = async function (data) {\r\n  try {\r\n    await model.sendAddAdressRequest(data);\r\n\r\n    renderNotification(\"success\", \"Endereço adicionado com sucesso\");\r\n\r\n    reloadPage(1.5);\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst CEPFetchController = async function (cep, currentView) {\r\n  try {\r\n    const data = await model.fetchCEPinfo(cep);\r\n\r\n    currentView.addCEPInfo(data.result);\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst deleteAddressController = async function (id) {\r\n  try {\r\n    await model.sendDeleteAddressRequest(id);\r\n\r\n    renderNotification(\"success\", \"Endereço deletado com sucesso\");\r\n\r\n    reloadPage(1.5);\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst addRecipeController = async function (data) {\r\n  try {\r\n    await model.sendCreateRecipeRequest(data);\r\n\r\n    renderNotification(\"success\", \"Receita Criada com sucesso!\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst deleteRecipeController = async function (id) {\r\n  try {\r\n    await model.sendDeleteRecipeRequest(id);\r\n\r\n    renderNotification(\"success\", \"Prato deletado com sucesso\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst resetPasswordcontroller = async function (\r\n  token,\r\n  password,\r\n  passwordConfirm\r\n) {\r\n  try {\r\n    await model.sendResetPasswordRequest(token, password, passwordConfirm);\r\n\r\n    location.assign(\"/\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst signUpController = async function (data) {\r\n  try {\r\n    await model.sendSignUpRequest(data);\r\n\r\n    registerView.renderConfirmEmailNotification();\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst confirmEmailController = async function (token) {\r\n  try {\r\n    await model.sendConfirmEmailRequest(token);\r\n\r\n    location.assign(\"/\");\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst sendForgotPasswordEmailController = async function (email) {\r\n  try {\r\n    await model.sendForgotPasswordEmailRequest(email);\r\n\r\n    navView.renderSendEmailNotification();\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst renderRecipesController = async function (\r\n  categories,\r\n  count = true,\r\n  page = 1\r\n) {\r\n  try {\r\n    await model.sendRequestGetRecipes(categories, count, page);\r\n\r\n    if (count) menuView.renderRecipes(model.state);\r\n    else menuView.renderAditionalRecipes(model.state);\r\n  } catch (err) {\r\n    console.log(err);\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst addToCartController = function (data) {\r\n  model.state.shoppingCart = data;\r\n\r\n  console.log(model.state);\r\n\r\n  localStorage.setItem(\r\n    \"shoppingCart\",\r\n    JSON.stringify(model.state.shoppingCart)\r\n  );\r\n};\r\n\r\nconst getShoppingCartFromLocalStorage = function () {\r\n  const data = JSON.parse(localStorage.getItem(\"shoppingCart\"));\r\n  if (!data) return;\r\n  model.state.shoppingCart = data;\r\n};\r\n\r\nconst renderShoppingCartController = async function () {\r\n  try {\r\n    shoppingCartView.renderShoppingCart(model.state);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nconst createOrderController = async function (shoppingCartData) {\r\n  try {\r\n    await model.sendCreateOrderRequest(shoppingCartData);\r\n  } catch (err) {\r\n    renderNotification(\"error\", err.message);\r\n  }\r\n};\r\n\r\nconst init = function () {\r\n  getShoppingCartFromLocalStorage();\r\n  loginView.addHandlerLogin(loginController);\r\n  navView.addLogoutHandler(logoutController);\r\n  navView.addSendResetPasswordEmailHandler(sendForgotPasswordEmailController);\r\n  accountView.addHandlerUpdateUser(updateUserController);\r\n  accountView.addHandlerUpdatePassword(updateUserController);\r\n  addressesView.addHandlerCEPFetch(CEPFetchController);\r\n  checkoutInfoView.addHandlerCEPFetch(CEPFetchController);\r\n  addressesView.addHandlerDeleteAddress(deleteAddressController);\r\n  addressesView.addHandlerAddAddress(addAddressController);\r\n  checkoutInfoView.addHandlerAddAddress(addAddressController);\r\n  adminMenuView.addHandlerCreateRecipe(addRecipeController);\r\n  adminMenuEditView.addHandlerDeleteRecipe(deleteRecipeController);\r\n  resetPasswordView.addHandlerResetPassword(resetPasswordcontroller);\r\n  registerView.addHandlerSignUp(signUpController);\r\n  emailConfirmView.addHandlerConfirmEmail(confirmEmailController);\r\n  menuView.addRenderRecipeHandler(renderRecipesController);\r\n  menuView.addAddToCartHandler(addToCartController);\r\n  navView.addHadlerRenderShoppingCart(renderShoppingCartController);\r\n  shoppingCartView.addCreateOrderHandler(createOrderController);\r\n};\r\n\r\ninit();\r\n","import { URL, TIMEOUT_SEC } from \"./config.js\";\r\n\r\n// TODO: Use Axios Next time\r\nexport const request = async function (\r\n  path,\r\n  method = undefined,\r\n  reqData = undefined,\r\n  dataType = \"application/json\"\r\n) {\r\n  try {\r\n    const body =\r\n      dataType === \"application/json\" ? JSON.stringify(reqData) : reqData;\r\n\r\n    const AJAX = method\r\n      ? fetch(`${URL}/${path}`, {\r\n          method,\r\n          headers: {\r\n            \"Content-Type\": dataType,\r\n          },\r\n          body,\r\n        })\r\n      : fetch(`${URL}/${path}`);\r\n\r\n    const data = await Promise.race([AJAX, timeout(TIMEOUT_SEC)]);\r\n    const res = await data.json();\r\n\r\n    console.log(res);\r\n    if (res.status === \"fail\" || res.status === \"error\") {\r\n      throw new Error(res.message);\r\n    } else {\r\n      return res;\r\n    }\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const reloadPage = (seconds) => {\r\n  setTimeout(() => {\r\n    location.reload();\r\n  }, seconds * 1000);\r\n};\r\n\r\nexport const timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const renderNotification = function (type, message) {\r\n  const markup = `\r\n  <div class=\"toast ${type}\">\r\n      <div class=\"toast-content\">\r\n        <svg class=\"${type}\">\r\n          <use href=\"/img/icons.svg#icon-${type}\"></use>\r\n        </svg>\r\n        <div class=\"message\">\r\n          <span class=\"text text-1\">${\r\n            type === \"error\" ? \"Erro!\" : \"Sucesso!\"\r\n          }</span>\r\n          <span class=\"text text-2\">${message}</span>\r\n        </div>\r\n          <svg class=\"close\">\r\n            <use href=\"/img/icons.svg#icon-error\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n        `;\r\n  // <div class=\"progress-${type}\"></div>\r\n\r\n  document\r\n    .querySelector(\".toaster-container\")\r\n    .insertAdjacentHTML(\"beforeend\", markup);\r\n\r\n  const toastNotification = document.querySelector(\r\n    \".toaster-container .toast:last-child\"\r\n  );\r\n  setTimeout(() => {\r\n    toastNotification.remove();\r\n  }, 6000);\r\n};\r\n","export const URL = \"http://127.0.0.1:5000/api/v1\";\r\nexport const TIMEOUT_SEC = 10;\r\n","import { request } from \"./helpers.js\";\r\nimport { URL } from \"./config.js\";\r\n\r\nexport const state = {\r\n  recipes: [],\r\n  newRecipes: [],\r\n  page: 1,\r\n  count: undefined,\r\n  curCategories: undefined,\r\n  shoppingCart: [],\r\n};\r\n\r\nexport const sendLoginRequest = async function (email, password) {\r\n  try {\r\n    const res = await request(\"users/login\", \"POST\", {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    return res;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendLogoutRequest = async function () {\r\n  try {\r\n    await request(\"users/logout\");\r\n  } catch (err) {\r\n    throw new Error(`Erro ao efetuar o logout!Por favor tente novamente`);\r\n  }\r\n};\r\n\r\nexport const sendUpdateUserRequest = async function (data, type) {\r\n  try {\r\n    const path =\r\n      type === \"password\" ? \"users/updateMyPassword\" : \"users/updateMe\";\r\n\r\n    await request(path, \"PATCH\", data);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendAddAdressRequest = async function (data) {\r\n  try {\r\n    const res = await request(\"users/addresses\", \"POST\", {\r\n      data,\r\n    });\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n// TODO: Reativar helmet, descobrir como fazer o fetch funcionar mesmo com ele ativo.\r\n//TODO: Adicionar error handling aqui\r\nexport const fetchCEPinfo = async function (cep) {\r\n  try {\r\n    //\r\n    const res = await fetch(`https://api.brasilaberto.com/v1/zipcode/${cep}`);\r\n    const data = await res.json();\r\n\r\n    if (data.result.error)\r\n      throw new Error(\r\n        \"Erro ao pegar informações, certifique-se de que o CEP está correto!\"\r\n      );\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendDeleteAddressRequest = async function (id) {\r\n  try {\r\n    await request(\"users/addresses\", \"DELETE\", {\r\n      id,\r\n    });\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendCreateRecipeRequest = async function (formData) {\r\n  try {\r\n    const data = await fetch(`${URL}/recipes`, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n    const res = await data.json();\r\n    if (res.status === \"error\" || res.status === \"fail\") {\r\n      throw new Error(res.message);\r\n    }\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendDeleteRecipeRequest = async function (id) {\r\n  try {\r\n    const res = await request(`recipes/${id}`, \"DELETE\");\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendResetPasswordRequest = async function (\r\n  token,\r\n  password,\r\n  passwordConfirm\r\n) {\r\n  try {\r\n    await request(`users/resetPassword/${token}`, \"PATCH\", {\r\n      password,\r\n      passwordConfirm,\r\n    });\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendSignUpRequest = async function (data) {\r\n  try {\r\n    await request(`users/signup`, \"POST\", data);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendConfirmEmailRequest = async function (token) {\r\n  try {\r\n    await request(`users/confirmEmail/${token}`, \"PATCH\");\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendForgotPasswordEmailRequest = async function (email) {\r\n  try {\r\n    await request(`users/forgotPassword`, \"POST\", { email });\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendRequestGetRecipes = async function (\r\n  categories,\r\n  count = true,\r\n  page = 1\r\n) {\r\n  try {\r\n    state.curCategories = categories;\r\n\r\n    let queryString;\r\n    if (categories === \"all\") {\r\n      queryString = `?page=${page}${count ? \"&count=true\" : \"\"}`;\r\n    } else\r\n      queryString = `?categories=${JSON.stringify(\r\n        categories.split(\",\")\r\n      )}&page=${page}${count ? \"&count=true\" : \"\"}`;\r\n\r\n    const res = await request(`recipes${queryString}`);\r\n\r\n    state.page = page;\r\n    if (page > 1) state.recipes.push(...res.data.data);\r\n    else state.recipes = res.data.data;\r\n\r\n    state.newRecipes = res.data.data;\r\n\r\n    if (res.count) state.count = res.count;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendCreateOrderRequest = async function (shoppingCartData) {\r\n  try {\r\n    const res = await request(`orders/validateOrder`, \"POST\", shoppingCartData);\r\n\r\n    console.log(res);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","import View from \"./View.js\";\r\n\r\nclass loginView extends View {\r\n  _parentEl = document.querySelector(\".form-container\");\r\n  emailInput = document.querySelector(\"#email\");\r\n  passwordInput = document.querySelector(\"#password\");\r\n\r\n  addHandlerLogin(handler) {\r\n    if (this._parentEl)\r\n      this._parentEl.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        const email = this.emailInput.value;\r\n        const password = this.passwordInput.value;\r\n        handler(email, password);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new loginView();\r\n","export default class View {\r\n  _data;\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n\r\n  renderSuccessIcon() {\r\n    const markup = `\r\n      <div class=\"success-animation\">\r\n  <svg class=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\"><circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\" /><path class=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\" /></svg>\r\n  </div>\r\n      `;\r\n\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  renderLoadingSpinner(element) {\r\n    const markup = `\r\n    <div class=\"loading-spinner-container\">\r\n    <svg class=\"loading-spinner\">\r\n          <use href=\"/img/icons.svg#icon-loading\"></use>\r\n          </div>\r\n    `;\r\n    element.insertAdjacentHTML(\"beforeend\", markup);\r\n\r\n    return () => {\r\n      element.querySelector(\"loading-spinner\").remove();\r\n    };\r\n  }\r\n\r\n  render(markup) {\r\n    this._clear;\r\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  _clear() {\r\n    this._parentEl.innerHTML = \"\";\r\n  }\r\n\r\n  _hideModal(element) {\r\n    element.classList.add(\"hidden\");\r\n    this._blurOverlay.classList.add(\"hidden\");\r\n  }\r\n  _showModal(element) {\r\n    element.classList.remove(\"hidden\");\r\n    this._blurOverlay.classList.remove(\"hidden\");\r\n  }\r\n\r\n  _convertToCurrencyBrl(number) {\r\n    return number.toLocaleString(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    });\r\n  }\r\n}\r\n","import View from \"./View.js\";\r\n\r\n//FIXME: Do not add event listener if the user is logged in\r\n//TODO: Add success message on logOut\r\n\r\nclass navView extends View {\r\n  _parentEl = document.querySelector(\".forgot-password-container\");\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n  _loginBtn = document.querySelector(\"#login-btn\");\r\n  _registerBtn = document.querySelector(\"#register-btn\");\r\n  _forgotPasswordBtn = document.querySelector(\".forgot-password-btn\");\r\n  _logOutBtn = document.querySelector(\"#logout-btn\");\r\n  _loginContainer = document.querySelector(\".log-in-container\");\r\n  _registerContainer = document.querySelector(\".register-container\");\r\n  _forgotPassowrdContainer = document.querySelector(\r\n    \".forgot-password-container\"\r\n  );\r\n  _closeBtn = document.querySelectorAll(\".close-form-btn\");\r\n\r\n  _shoppingCart = document.querySelector(\".shop-cart-menu-display\");\r\n  _shoppingCartBtn = document.querySelector(\".cart-delivery\");\r\n\r\n  _forgotPasswordForm = document.querySelector(\"#forgotPasswordForm\");\r\n\r\n  constructor() {\r\n    super();\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._blurOverlay)\r\n      this._blurOverlay.addEventListener(\"click\", () => {\r\n        this._hideModal(this._loginContainer);\r\n        this._hideModal(this._registerContainer);\r\n        this._hideModal(this._forgotPassowrdContainer);\r\n        this._hideModal(this._shoppingCart);\r\n      });\r\n\r\n    if (this._loginBtn)\r\n      this._loginBtn.addEventListener(\"click\", () => {\r\n        this._showModal(this._loginContainer);\r\n      });\r\n\r\n    if (this._registerBtn) {\r\n      this._registerBtn.addEventListener(\"click\", () => {\r\n        this._showModal(this._registerContainer);\r\n      });\r\n    }\r\n\r\n    if (this._closeBtn)\r\n      this._closeBtn.forEach((el) =>\r\n        el.addEventListener(\"click\", () => {\r\n          this._hideModal(this._registerContainer);\r\n          this._hideModal(this._loginContainer);\r\n        })\r\n      );\r\n\r\n    if (this._forgotPasswordBtn)\r\n      this._forgotPasswordBtn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        this._hideModal(this._loginContainer);\r\n        this._showModal(this._forgotPassowrdContainer);\r\n      });\r\n  }\r\n\r\n  addSendResetPasswordEmailHandler(handler) {\r\n    if (this._forgotPasswordForm)\r\n      this._forgotPasswordForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        handler(this._forgotPasswordForm.elements[0].value);\r\n      });\r\n  }\r\n\r\n  addLogoutHandler(handler) {\r\n    if (this._logOutBtn)\r\n      this._logOutBtn.addEventListener(\"click\", handler.bind(this));\r\n  }\r\n\r\n  _generateMarkupSendEmail() {\r\n    const inputs = this._forgotPasswordForm.elements;\r\n\r\n    return `\r\n    <div>\r\n        <svg>\r\n          <use href=\"../img/icons.svg#icon-email\"></use>\r\n        </svg>\r\n        <h1>Defina uma nova senha</h1>\r\n      </div>\r\n      <p>\r\n        Nós mandamos um email para: <br />\r\n        <b>${inputs[0].value}</b>\r\n      </p>\r\n      <p>Para recuperar sua conta abra seu email, por favor!</p>\r\n    </div>\r\n    `;\r\n  }\r\n\r\n  addHadlerRenderShoppingCart(handler) {\r\n    if (this._shoppingCartBtn)\r\n      this._shoppingCartBtn.addEventListener(\"click\", (e) => {\r\n        this._showModal(this._shoppingCart);\r\n        handler();\r\n      });\r\n  }\r\n\r\n  renderSendEmailNotification() {\r\n    this._clear();\r\n    this.render(this._generateMarkupSendEmail());\r\n  }\r\n}\r\n\r\nexport default new navView();\r\n","import View from \"./View.js\";\r\n\r\nclass AccountView extends View {\r\n  _updateUserForm = document.querySelector(\".name-email\");\r\n  _userName = document.querySelector(\".user-name\");\r\n  _userEmail = document.querySelector(\".user-email\");\r\n  _userNumber = document.querySelector(\".user-number\");\r\n  _updateInfoBtn = document.querySelector(\".update-info-btn\");\r\n\r\n  // Password\r\n  _passwordUpdateForm = document.querySelector(\".change-passwords\");\r\n  _passwordCurrent = document.querySelector(\".password-current\");\r\n  _passwordNew = document.querySelector(\".password-new\");\r\n  _passwordConfirm = document.querySelector(\".password-confirm\");\r\n  _updatePasswordBtn = document.querySelector(\".update-password-btn\");\r\n\r\n  addHandlerUpdateUser(handler) {\r\n    if (this._updateUserForm)\r\n      this._updateUserForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        const name = this._userName.value;\r\n        const email = this._userEmail.value;\r\n        const number = this._userNumber.value;\r\n\r\n        handler({ name, email, number });\r\n      });\r\n  }\r\n\r\n  addHandlerUpdatePassword(handler) {\r\n    if (this._passwordUpdateForm)\r\n      this._passwordUpdateForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        const currentPassword = this._passwordCurrent.value;\r\n        const password = this._passwordNew.value;\r\n        const passwordConfirm = this._passwordConfirm.value;\r\n\r\n        handler({ currentPassword, password, passwordConfirm }, \"password\");\r\n      });\r\n  }\r\n\r\n  clearPasswordInputFields() {\r\n    this._passwordCurrent.value = \"\";\r\n    this._passwordNew.value = \"\";\r\n    this._passwordConfirm.value = \"\";\r\n  }\r\n\r\n  changePasswordBtnText(text) {\r\n    this._updatePasswordBtn.innerHTML = text;\r\n  }\r\n\r\n  changeInfoBtnText(text) {\r\n    this._updateInfoBtn.innerHTML = text;\r\n  }\r\n}\r\n\r\nexport default new AccountView();\r\n","import View from \"./View.js\";\r\n\r\nclass addressesView extends View {\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n  _addressesContainer = document.querySelector(\".addresses-container\");\r\n  _addAddressBtn = document.querySelector(\".addAdressBtn\");\r\n  _addressFormOverlay = document.querySelector(\".form-overlay\");\r\n  _addressForm = document.querySelector(\".address-form\");\r\n  _closeAddressFormBtn = document.querySelector(\".close-form-btn\");\r\n  _deleteAddressModal = document.querySelector(\".delete-address-modal\");\r\n  _deleteAddressBtn = document.querySelectorAll(\".address-delete\");\r\n  _deleteAddressConfirmBtn = document.querySelector(\r\n    \".delete-address-confirm-btn\"\r\n  );\r\n  _deleteAddressCancelBtn = document.querySelector(\r\n    \".delete-address-cancel-btn\"\r\n  );\r\n  _formInputResidenceType = document.querySelector(\r\n    \".address-form-input-residenceType\"\r\n  );\r\n  _formInputCEP = document.querySelector(\".address-form-input-CEP\");\r\n  _formInputState = document.querySelector(\".address-form-input-state\");\r\n  _formInputCity = document.querySelector(\".address-form-input-city\");\r\n  _formInputNeighbourhood = document.querySelector(\r\n    \".address-form-input-neighbourhood\"\r\n  );\r\n  _formInputStreet = document.querySelector(\".address-form-input-street\");\r\n  _formInputHouseNumber = document.querySelector(\r\n    \".address-form-input-house-number\"\r\n  );\r\n  _formInputCompliment = document.querySelector(\r\n    \".address-form-input-compliment\"\r\n  );\r\n\r\n  constructor() {\r\n    super(), this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._addressesContainer) {\r\n      this._blurOverlay.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._addressForm);\r\n        this._hideModal(this._deleteAddressModal);\r\n      });\r\n\r\n      if (this._addAddressBtn)\r\n        this._addAddressBtn.addEventListener(\"click\", (e) => {\r\n          console.log(\"click\");\r\n          this._showModal(this._addressForm);\r\n        });\r\n\r\n      this._deleteAddressBtn.forEach((btn) => {\r\n        btn.addEventListener(\"click\", (e) => {\r\n          this._deleteAddressConfirmBtn.dataset.id = e.target.dataset.id;\r\n          this._showModal(this._deleteAddressModal);\r\n        });\r\n      });\r\n\r\n      this._deleteAddressCancelBtn.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._deleteAddressModal);\r\n      });\r\n\r\n      this._closeAddressFormBtn.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._addressFormOverlay);\r\n      });\r\n    }\r\n  }\r\n\r\n  addHandlerCEPFetch(handler) {\r\n    if (this._formInputCEP)\r\n      this._formInputCEP.addEventListener(\"blur\", (e) => {\r\n        e.preventDefault();\r\n        const cep = this._formInputCEP.value.replaceAll(\"-\", \"\");\r\n\r\n        if (/^\\d{8}$/.test(cep)) {\r\n          handler(cep, this);\r\n        }\r\n      });\r\n  }\r\n\r\n  addCEPInfo(data) {\r\n    this._formInputState.value = data.stateShortname;\r\n    this._formInputCity.value = data.city;\r\n    this._formInputNeighbourhood.value = data.district;\r\n    this._formInputStreet.value = data.street;\r\n  }\r\n\r\n  addHandlerAddAddress(handler) {\r\n    if (this._addressForm)\r\n      this._addressForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n          residenceType: this._formInputResidenceType.value,\r\n          CEP: this._formInputCEP.value.replace(\"-\", \"\"),\r\n          state: this._formInputState.value,\r\n          city: this._formInputCity.value,\r\n          neighbourhood: this._formInputNeighbourhood.value,\r\n          street: this._formInputStreet.value,\r\n          houseNumber: this._formInputHouseNumber.value,\r\n          compliment: this._formInputCompliment.value,\r\n        };\r\n\r\n        handler(data);\r\n      });\r\n  }\r\n\r\n  addHandlerDeleteAddress(handler) {\r\n    if (this._deleteAddressConfirmBtn)\r\n      this._deleteAddressConfirmBtn.addEventListener(\"click\", function (e) {\r\n        const id = e.target.dataset.id;\r\n        handler(id);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new addressesView();\r\n","import View from \"./View.js\";\r\n\r\nclass adminMenuView extends View {\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n\r\n  _adminMenuForm = document.querySelector(\".admin-menu-form\");\r\n  _ingredientsForm = document.querySelector(\".admin-menu-form-ingredients\");\r\n  _optionsForm = document.querySelector(\"#options-form\");\r\n\r\n  _optionsOverlay = document.querySelector(\".admin-menu-options-overlay\");\r\n  _ingredientsOverlay = document.querySelector(\r\n    \".admin-menu-ingredients-overlay\"\r\n  );\r\n\r\n  _ingredientsDisplay = document.querySelector(\r\n    \".admin-menu-form-big-ingredients-text\"\r\n  );\r\n  _allOptions = document.querySelectorAll(\".admin-menu-form-big-option\");\r\n\r\n  _imageInputs = document.querySelectorAll(\".admin-menu-form-image-input\");\r\n  _imageContainer = document.querySelectorAll(\".admin-menu-form-image\");\r\n\r\n  _ingredientsBtn = document.querySelector(\".admin-menu-form-big-ingredients\");\r\n  _submitIngredientsBtn = document.querySelector(\r\n    \".admin-menu-form-ingredients-submit\"\r\n  );\r\n  _selectOptionsBtn = document.querySelector(\r\n    \".admin-menu-form-big-add-options\"\r\n  );\r\n  _optionsFormBtn = document.querySelector(\".admin-menu-option-btn\");\r\n\r\n  _nameInput1 = document.querySelector(\".admin-menu-form-name\");\r\n  _nameInput2 = document.querySelector(\".admin-menu-form-big-name\");\r\n\r\n  _descriptionInput1 = document.querySelector(\".admin-menu-form-description\");\r\n  _descriptionInput2 = document.querySelector(\r\n    \".admin-menu-form-big-description\"\r\n  );\r\n\r\n  _categoriesForm = document.querySelector(\"#categories-form\");\r\n  _categoriesOverlay = document.querySelector(\".admin-menu-category-overlay\");\r\n  _categoriesFormBtn = document.querySelector(\r\n    \".admin-menu-form-big-categories\"\r\n  );\r\n  _categoriesFormDropdownBtn = document.querySelectorAll(\r\n    \".admin-menu-categories-dropdown\"\r\n  );\r\n  _categoriesSubmitBtn = document.querySelector(\".admin-menu-categories-btn\");\r\n\r\n  constructor() {\r\n    super();\r\n    this._addHandlerUploadImage(this._changeRecipeImage.bind(this));\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._ingredientsForm) {\r\n      this._blurOverlay.addEventListener(\"click\", () => {\r\n        this._hideModal(this._ingredientsOverlay);\r\n        this._hideModal(this._optionsOverlay);\r\n        this._hideModal(this._categoriesOverlay);\r\n      });\r\n\r\n      this._ingredientsBtn.addEventListener(\"click\", (e) => {\r\n        this._showModal(this._ingredientsOverlay);\r\n      });\r\n\r\n      this._selectOptionsBtn.addEventListener(\"click\", (e) => {\r\n        this._showModal(this._optionsOverlay);\r\n      });\r\n\r\n      this._categoriesFormBtn.addEventListener(\"click\", (e) => {\r\n        this._showModal(this._categoriesOverlay);\r\n      });\r\n\r\n      this._ingredientsForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        this._hideModal(this._ingredientsOverlay);\r\n        const ingredients = this._getIngredients().join(\", \");\r\n\r\n        this._ingredientsDisplay.innerHTML = ingredients;\r\n      });\r\n\r\n      this._optionsForm.addEventListener(\"change\", (e) => {\r\n        const id = e.target.id.slice(8);\r\n        if (e.target.checked) {\r\n          this._displayOption(id);\r\n        } else {\r\n          this._hideOption(id);\r\n        }\r\n      });\r\n\r\n      this._optionsFormBtn.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._optionsOverlay);\r\n      });\r\n\r\n      this._categoriesSubmitBtn.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._categoriesOverlay);\r\n      });\r\n\r\n      this._adminMenuForm.addEventListener(\"input\", (e) => {\r\n        this._syncInputs(e);\r\n      });\r\n\r\n      this._categoriesForm.addEventListener(\"click\", (e) => {\r\n        const btn = e.target.closest(\".admin-menu-categories-dropdown\");\r\n        if (!btn) return;\r\n        btn.querySelector(\"svg\").classList.toggle(\"active\");\r\n        btn.nextSibling.classList.toggle(\"hidden\");\r\n      });\r\n    }\r\n  }\r\n\r\n  _addHandlerUploadImage(handler) {\r\n    if (this._imageInputs)\r\n      this._imageInputs.forEach((input) => {\r\n        input.addEventListener(\"change\", (e) => {\r\n          handler(e);\r\n          // TODO:\r\n          // TODO:\r\n          if (input === this._imageInputs[0]) {\r\n            // e.target.files[0] = this._imageInputs[1].files\r\n          }\r\n          console.log(this._imageInputs[1].files);\r\n        });\r\n      });\r\n  }\r\n\r\n  _changeRecipeImage(event) {\r\n    const input = event.srcElement;\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(input.files[0]);\r\n    reader.addEventListener(\"load\", () => {\r\n      this._imageContainer.forEach(\r\n        (el) => (el.style.backgroundImage = `url(${reader.result})`)\r\n      );\r\n    });\r\n  }\r\n\r\n  _displayOption(id) {\r\n    const option = document.getElementById(id);\r\n    const options = option.querySelectorAll('input[type=\"text\"]');\r\n    option.classList.remove(\"hidden\");\r\n    options.forEach((el) => (el.required = true));\r\n  }\r\n\r\n  _hideOption(id) {\r\n    const option = document.getElementById(id);\r\n    const options = option.querySelectorAll('input[type=\"number\"]');\r\n    option.classList.add(\"hidden\");\r\n    options.forEach((el) => (el.required = false));\r\n  }\r\n\r\n  _syncInputs(e) {\r\n    if (e.target === this._nameInput1) this._nameInput2.value = e.target.value;\r\n    else if (e.target === this._nameInput2)\r\n      this._nameInput1.value = e.target.value;\r\n    else if (e.target === this._descriptionInput1)\r\n      this._descriptionInput2.value = e.target.value;\r\n    else if (e.target === this._descriptionInput2)\r\n      this._descriptionInput1.value = e.target.value;\r\n  }\r\n\r\n  _getCategories() {\r\n    const categorieInputs = this._categoriesForm.querySelectorAll(\r\n      \".admin-menu-subcategory-input\"\r\n    );\r\n\r\n    const categories = [];\r\n    categorieInputs.forEach((el) => {\r\n      if (el.checked) categories.push(el.previousSibling.innerHTML);\r\n    });\r\n\r\n    return categories;\r\n  }\r\n\r\n  _getIngredients() {\r\n    return Array.from(this._ingredientsForm.elements)\r\n      .filter((el) => {\r\n        return el.value;\r\n      })\r\n      .map((el) => el.value);\r\n  }\r\n\r\n  _getOptions() {\r\n    const selectedOptions = [];\r\n    const data = [];\r\n    this._allOptions.forEach((el) => {\r\n      if (el.classList.contains(\"hidden\")) return;\r\n      else selectedOptions.push(el);\r\n    });\r\n\r\n    selectedOptions.forEach((el) => {\r\n      const title = el.querySelector(\"h1\").innerHTML;\r\n      const instructions = el.querySelector(\"span\").innerHTML;\r\n      const type = el.dataset.config.split(\"-\")[0];\r\n      const required = el.dataset.config.split(\"-\")[1];\r\n      const name = el.dataset.config.split(\"-\")[2];\r\n      const needsPrice = el.dataset.config.split(\"-\")[3];\r\n      const errorMessage = el.dataset.errormessage;\r\n\r\n      const options = [];\r\n      const optionNodes = el.querySelectorAll(\r\n        \".admin-menu-form-big-option-input\"\r\n      );\r\n      optionNodes.forEach((input) => {\r\n        const optionName = input.firstChild.innerHTML.split(\"<br>\")[0];\r\n        const description =\r\n          input.firstChild.innerHTML.split(\"<br>\")[1] || undefined;\r\n\r\n        let price;\r\n        if (input.firstChild.nextSibling)\r\n          price = input.firstChild.nextSibling.value;\r\n\r\n        options.push({ optionName, description, price });\r\n      });\r\n\r\n      data.push({\r\n        name,\r\n        title,\r\n        instructions,\r\n        type,\r\n        required,\r\n        errorMessage,\r\n        options,\r\n      });\r\n    });\r\n    console.log(data);\r\n    return data;\r\n  }\r\n\r\n  addHandlerCreateRecipe(handler) {\r\n    // TODO: Change serving size according to size\r\n    if (this._adminMenuForm)\r\n      this._adminMenuForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const categories = this._getCategories();\r\n\r\n        const options = JSON.stringify(this._getOptions());\r\n        const ingredients = this._getIngredients();\r\n        const inputs = this._adminMenuForm.elements;\r\n        const image = inputs[1].files[0] || inputs[6].files[0];\r\n\r\n        const form = new FormData();\r\n        form.append(\"name\", inputs[2].value);\r\n        form.append(\"price\", +inputs[3].value);\r\n        form.append(\"description\", inputs[4].value);\r\n        form.append(\"servingSize\", +inputs[8].value);\r\n        form.append(\"ingredients\", ingredients);\r\n        form.append(\"image\", image);\r\n        form.append(\"categories\", categories);\r\n        form.append(\"options\", options);\r\n\r\n        handler(form);\r\n        // this._adminMenuForm.reset();\r\n        inputs[1].value = null;\r\n        inputs[6].value = null;\r\n      });\r\n  }\r\n}\r\n\r\nexport default new adminMenuView();\r\n","import View from \"./View.js\";\r\n\r\nclass AdminMenuEdit extends View {\r\n  _parentElement = document.querySelector(\".admin-menu-grid\");\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n\r\n  _deleteConfirmModal = document.querySelector(\r\n    \".admin-menu-edit-confirm-delete\"\r\n  );\r\n\r\n  _deleteConfirmBtn = document.querySelector(\r\n    \".admin-menu-edit-confirm-delete-btn\"\r\n  );\r\n\r\n  constructor() {\r\n    super();\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (document.querySelector(\".admin-menu-grid\")) {\r\n      this._parentElement.addEventListener(\"click\", (e) => {\r\n        const deleteBtn = e.target.closest(\".admin-menu-edit-delete-btn\");\r\n        if (!deleteBtn) return;\r\n        const id = deleteBtn.dataset.id;\r\n        this._deleteConfirmModal.querySelector(\"button\").dataset.id = id;\r\n\r\n        this._showModal(this._deleteConfirmModal);\r\n      });\r\n\r\n      this._blurOverlay.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._deleteConfirmModal);\r\n      });\r\n    }\r\n  }\r\n\r\n  addHandlerDeleteRecipe(handler) {\r\n    if (this._deleteConfirmBtn)\r\n      this._deleteConfirmBtn.addEventListener(\"click\", (e) => {\r\n        const id = e.target.dataset.id;\r\n        this._hideModal(this._deleteConfirmModal);\r\n\r\n        handler(id);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new AdminMenuEdit();\r\n","import View from \"./View.js\";\r\n\r\nclass RegisterView extends View {\r\n  _parentEl = document.querySelector(\".register-container\");\r\n  _registerForm = document.querySelector(\"#registerForm\");\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  addHandlerSignUp(handler) {\r\n    if (this._registerForm)\r\n      this._registerForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        const inputs = this._registerForm.elements;\r\n\r\n        const data = {\r\n          name: inputs[0].value,\r\n          email: inputs[1].value,\r\n          phoneNumber: inputs[2].value,\r\n          password: inputs[3].value,\r\n          passwordConfirm: inputs[4].value,\r\n        };\r\n\r\n        handler(data);\r\n      });\r\n  }\r\n\r\n  _generateMarkupConfirmEmail() {\r\n    const inputs = this._registerForm.elements;\r\n\r\n    return `\r\n    <div>\r\n        <svg>\r\n          <use href=\"../img/icons.svg#icon-email\"></use>\r\n        </svg>\r\n        <h1>Verifique seu email</h1>\r\n      </div>\r\n      <p>\r\n        Nós mandamos um email para: <br />\r\n        <b>${inputs[1].value}</b>\r\n      </p>\r\n      <p>Para terminar de criar sua conta abra seu email, por favor!</p>\r\n    </div>\r\n    `;\r\n  }\r\n\r\n  renderConfirmEmailNotification() {\r\n    this._clear();\r\n    this.render(this._generateMarkupConfirmEmail());\r\n  }\r\n}\r\n\r\nexport default new RegisterView();\r\n","import View from \"./View.js\";\r\n\r\nclass PasswordResetView extends View {\r\n  _resetPasswordForm = document.querySelector(\".reset-password-form\");\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  addHandlerResetPassword(handler) {\r\n    if (this._resetPasswordForm)\r\n      this._resetPasswordForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const inputs = this._resetPasswordForm.elements;\r\n\r\n        const password = inputs[0].value;\r\n        const passwordConfirm = inputs[1].value;\r\n\r\n        const token = window.location.pathname.split(\"/\")[2];\r\n        handler(token, password, passwordConfirm);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new PasswordResetView();\r\n","import View from \"./View.js\";\r\n\r\nclass EmailConfirmView extends View {\r\n  _confirmEmailBtn = document.querySelector(\".email-confirm-btn\");\r\n\r\n  addHandlerConfirmEmail(handler) {\r\n    if (this._confirmEmailBtn)\r\n      this._confirmEmailBtn.addEventListener(\"click\", (e) => {\r\n        const token = window.location.pathname.split(\"/\")[2];\r\n\r\n        handler(token);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new EmailConfirmView();\r\n","import View from \"./View.js\";\r\n\r\nclass MenuView extends View {\r\n  _recipeContainer = document.querySelector(\".section-delivery\");\r\n  _recipeSeeMoreBtn = document.querySelector(\".section-delivery-see-more\");\r\n  _recipeOptions = document.querySelector(\".section-menu-options\");\r\n  _recipeOptionsForm = document.querySelector(\".recipe-options\");\r\n  _recipeOptionsBuyBtn = document.querySelector(\".menu-price-button-buy\");\r\n  _recipeOtionsControls = document.querySelector(\".menu-price-button-controls\");\r\n  _recipeOptionsControl = document.querySelectorAll(\r\n    \".menu-price-button-control\"\r\n  );\r\n  _recipeOptionsQuantity = document.querySelector(\r\n    \".menu-price-button-quantity\"\r\n  );\r\n  _recipeImage = document.querySelector(\".recipe-image\");\r\n  _recipeName = document.querySelector(\".menu-recipe-name\");\r\n  _recipeServingSize = document.querySelector(\".menu-recipe-serving-size\");\r\n  _recipeIngredients = document.querySelector(\".menu-recipe-ingredients\");\r\n\r\n  _categoryBoxes = document.querySelectorAll(\".category-box\");\r\n\r\n  _subCategoriesContainer = document.querySelector(\".section-subcategories\");\r\n\r\n  constructor() {\r\n    super();\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._recipeContainer) {\r\n      this._recipeContainer.addEventListener(\"click\", (e) => {\r\n        const recipe = e.target.closest(\".delivery-box\");\r\n        if (!recipe) return;\r\n        this._showModal(this._recipeOptions);\r\n        this._renderOptions(recipe.dataset.id);\r\n      });\r\n      this._blurOverlay.addEventListener(\"click\", () => {\r\n        this._hideModal(this._recipeOptions);\r\n      });\r\n\r\n      this._recipeOptionsForm.addEventListener(\"click\", (e) => {\r\n        const option = e.target.closest(\".recipe-options-input\");\r\n        if (!option) return;\r\n        this._calculatePrice();\r\n      });\r\n\r\n      this._recipeOtionsControls.addEventListener(\"click\", (e) => {\r\n        const btn = e.target.closest(\".menu-price-button-control\");\r\n        if (!btn) return;\r\n        if (btn.dataset.goto === \"0\") return;\r\n        this._recipeOptionsQuantity.innerHTML = btn.dataset.goto;\r\n        this._recipeOptionsQuantity.previousSibling.dataset.goto =\r\n          this._recipeOptionsQuantity.innerHTML - 1;\r\n        this._recipeOptionsQuantity.nextSibling.dataset.goto =\r\n          +this._recipeOptionsQuantity.innerHTML + 1;\r\n        this._calculatePrice(this._recipeOptionsQuantity.dataset.price);\r\n      });\r\n\r\n      this._recipeOptionsForm.addEventListener(\"invalid\", (e) => {\r\n        e.preventDefault();\r\n        console.log(\"INVALIDOO\");\r\n      });\r\n    }\r\n  }\r\n\r\n  _renderOptions(recipeId) {\r\n    const recipe = this._data.recipes.find((el) => el._id === recipeId);\r\n\r\n    this._recipeImage.firstChild.src = `./img/recipes/${\r\n      recipe.image === \"undefined\" ? \"default.jpg\" : recipe.image\r\n    }`;\r\n    this._recipeName.innerHTML = recipe.name;\r\n    this._recipeServingSize.innerHTML = recipe.servingSize;\r\n    this._recipeIngredients.innerHTML = recipe.ingredients.join(\",\");\r\n    this._recipeOptionsForm.innerHTML = this._generateOptionsMarkup(recipe);\r\n    this._recipeOptionsQuantity.innerHTML = 1;\r\n    this._recipeOptionsQuantity.dataset.price = recipe.price;\r\n    this._recipeOptionsControl[0].dataset.goto = 0;\r\n    this._recipeOptionsControl[1].dataset.goto = 2;\r\n    this._recipeOptionsBuyBtn.dataset.id = recipe._id;\r\n    this._calculatePrice(recipe.price);\r\n  }\r\n\r\n  _generateOptionsMarkup(recipe) {\r\n    console.log(recipe);\r\n    return recipe.options\r\n      .map(\r\n        (el) =>\r\n          `\r\n         <div class=\"recipe-option\" id=\"${el.name.replaceAll(\" \", \"\")}-${\r\n            recipe._id\r\n          }\" data-name=\"\">\r\n            <div class=\"recipe-options-title\">\r\n              <h1>${el.title}</h1>\r\n              <span>${el.instructions}</span>\r\n            </div>\r\n            <div class=\"recipe-options-choices\">\r\n            ${el.options\r\n              .map((option) => {\r\n                let price;\r\n                let priceLabel;\r\n                if (option.price) {\r\n                  price = this._convertToCurrencyBrl(option.price);\r\n                  priceLabel = `<label for=\"${recipe._id}-${option.optionName}\">${price}</label>`;\r\n                } else\r\n                  priceLabel = `<label for=\"${recipe._id}-${option.optionName}\"></label>`;\r\n                // =============================================\r\n                return `\r\n            <div class=\"recipe-options-input\" data-price=\"${option.price}\">\r\n              <label for=\"${recipe._id}-${option.optionName}\">${\r\n                  option.optionName\r\n                } ${\r\n                  option.description\r\n                    ? \"<br> <span>\" + option.description + \"</span>\"\r\n                    : \"\"\r\n                }</label>\r\n                ${priceLabel ? priceLabel : \"<label></label>\"}\r\n              <input name=\"${el.name}\" type=\"${el.type}\" id=\"${recipe._id}-${\r\n                  option.optionName\r\n                }\" data-price=\"${option.price}\" data-errormessage=\"${\r\n                  el.errorMessage\r\n                }\" ${el.required ? \"required\" : \"\"} ${\r\n                  option.optionName.startsWith(\"Pequeno\") ? \"checked\" : \"\"\r\n                }/>\r\n            </div>\r\n            `;\r\n              })\r\n              .join(\"\")}\r\n            </div>\r\n          </div>\r\n          `\r\n      )\r\n      .join(\"\");\r\n  }\r\n\r\n  _getOrderData(id) {\r\n    const inputs = this._recipeOptionsForm.querySelectorAll(\"input\");\r\n    const invalidInputs = [];\r\n    inputs.forEach((input) => {\r\n      if (input.validity.valid) return;\r\n      invalidInputs.push(input);\r\n    });\r\n    document\r\n      .querySelectorAll(\".recipe-option-error\")\r\n      .forEach((el) => el.remove());\r\n\r\n    if (invalidInputs.length > 0) return this._renderInputErrors(invalidInputs);\r\n    // Order Format\r\n    // { recipe: id, options: { optionName: choices, ... } }\r\n    const shoppingCartItem = this._data.recipes.find((el) => el._id === id);\r\n    shoppingCartItem.options = [];\r\n    shoppingCartItem.price = this._calculatePrice(shoppingCartItem.price);\r\n\r\n    shoppingCartItem.quantity = +this._recipeOptionsQuantity.innerHTML;\r\n\r\n    const options = document.querySelectorAll(\".recipe-option\");\r\n    options.forEach((el) => {\r\n      const selectedInputs = el.querySelectorAll(\r\n        'input[type=\"checkbox\"]:checked, input[type=\"radio\"]:checked'\r\n      );\r\n      const optionName = el.id.split(\"-\")[0];\r\n      const optionTitle = el\r\n        .closest(\".recipe-option\")\r\n        .querySelector(\"h1\")\r\n        .innerHTML.replace(\":\", \"\");\r\n      const inputs = [];\r\n\r\n      selectedInputs.forEach((input) => {\r\n        inputs.push(input.id.split(\"-\")[1]);\r\n      });\r\n\r\n      shoppingCartItem.options.push({ optionTitle, [optionName]: inputs });\r\n    });\r\n\r\n    this._data.shoppingCart.push(shoppingCartItem);\r\n    this._hideModal(this._recipeOptions);\r\n    return true;\r\n  }\r\n\r\n  _renderInputErrors(inputs) {\r\n    inputs.forEach((input) => {\r\n      const errorMarkup = `<span class=\"recipe-option-error\"><b>Erro!</b>: ${input.dataset.errormessage}</span>`;\r\n\r\n      const errorElement = input\r\n        .closest(\".recipe-option\")\r\n        .querySelector(\".recipe-option-error\");\r\n      if (errorElement) errorElement.remove();\r\n\r\n      input\r\n        .closest(\".recipe-option\")\r\n        .querySelector(\".recipe-options-title\")\r\n        .insertAdjacentHTML(\"beforeend\", errorMarkup);\r\n    });\r\n    inputs[0].closest(\".recipe-option\").scrollIntoView({ behavior: \"smooth\" });\r\n\r\n    return null;\r\n  }\r\n\r\n  _calculatePrice(basePrice) {\r\n    const inputs = this._recipeOptionsForm.querySelectorAll(\"input\");\r\n    let totalPrice = 0;\r\n\r\n    const hasSizeOption = Array.from(inputs).some((el) =>\r\n      el.name.startsWith(\"Tamanhos\")\r\n    );\r\n    if (!hasSizeOption) totalPrice += basePrice;\r\n\r\n    inputs.forEach((input) => {\r\n      if (!input.checked) return;\r\n      if (input.dataset.price === \"undefined\") return;\r\n      totalPrice += +input.dataset.price;\r\n    });\r\n\r\n    const quantity =\r\n      this._recipeOtionsControls.firstChild.nextSibling.innerHTML;\r\n\r\n    totalPrice *= +quantity;\r\n\r\n    this._recipeOptionsBuyBtn.innerHTML = `COMPRE • ${this._convertToCurrencyBrl(\r\n      totalPrice\r\n    )}`;\r\n\r\n    return totalPrice;\r\n  }\r\n\r\n  _changeCategory(e) {\r\n    const box = e.target.closest(\".category-box\");\r\n    if (!box) return;\r\n    this._categoryBoxes.forEach((categoryBox) =>\r\n      categoryBox.classList.remove(\"category-box-active\")\r\n    );\r\n\r\n    box.classList.add(\"category-box-active\");\r\n    this._subCategoriesContainer.innerHTML = \"\";\r\n\r\n    if (box.dataset.name === \"Tudo\") return box.dataset.subcategories;\r\n\r\n    this._renderSubcategories(box.dataset.subcategories);\r\n    return box.dataset.subcategories;\r\n  }\r\n\r\n  _changeSubCategory(e) {\r\n    const subCategory = e.target.closest(\".section-subcategory\");\r\n    const subCategories = document.querySelectorAll(\".section-subcategory\");\r\n\r\n    subCategories.forEach((el) => {\r\n      el.classList.remove(\"section-subcategory-active\");\r\n    });\r\n    e.target.classList.add(\"section-subcategory-active\");\r\n\r\n    return subCategory.dataset.subcategory;\r\n  }\r\n\r\n  _renderSubcategories(categories) {\r\n    const category = categories.split(\",\");\r\n\r\n    const markup = category.map((category) => {\r\n      return `<span class=\"section-subcategory\" data-subcategory=\"${category}\">${category} </span>`;\r\n    });\r\n    const all = `<span class=\"section-subcategory section-subcategory-active\" data-subcategory=\"${categories}\">Tudo</span>`;\r\n    markup.unshift(all);\r\n\r\n    markup.forEach((el) =>\r\n      this._subCategoriesContainer.insertAdjacentHTML(\"beforeend\", el)\r\n    );\r\n  }\r\n\r\n  _generateRecipeMarkup(data) {\r\n    return data\r\n      .map((el) => {\r\n        let price = el.price.toLocaleString(\"pt-BR\", {\r\n          style: \"currency\",\r\n          currency: \"BRL\",\r\n        });\r\n        return `\r\n        <div class=\"delivery-box\" data-id=\"${el._id}\">\r\n        <div class=\"img-display-delivery\">\r\n            <img src=\"./img/recipes/${\r\n              el.image === \"undefined\" ? \"default.jpg\" : el.image\r\n            }\" alt=\"${el.name}\" />\r\n        </div>\r\n\r\n        <div class=\"info-recipes\">\r\n            <h4>${el.name}</h4>\r\n            <p> ${el.description} </p>\r\n            <h2>${price}</h2>\r\n        </div>\r\n        </div>\r\n        `;\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  renderRecipes(data) {\r\n    this._data = data;\r\n    const markup = this._generateRecipeMarkup(data.recipes);\r\n    this._recipeContainer.innerHTML = \"\";\r\n\r\n    this._recipeContainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  renderAditionalRecipes(data) {\r\n    this._data = data;\r\n    const markup = this._generateRecipeMarkup(data.newRecipes);\r\n\r\n    this._recipeContainer.insertAdjacentHTML(\"beforeend\", markup);\r\n\r\n    if (this._data.count > this._data.page * 10)\r\n      this._recipeSeeMoreBtn.dataset.goto++;\r\n    else this._recipeSeeMoreBtn.classList.add(\"hidden\");\r\n  }\r\n\r\n  addRenderRecipeHandler(handler) {\r\n    if (this._categoryBoxes)\r\n      this._categoryBoxes.forEach((el) => {\r\n        el.addEventListener(\"click\", (e) => {\r\n          const categories = this._changeCategory(e);\r\n          const removeSpinner = this.renderLoadingSpinner(\r\n            this._recipeContainer\r\n          );\r\n          handler(categories);\r\n\r\n          removeSpinner();\r\n        });\r\n      });\r\n\r\n    if (this._subCategoriesContainer)\r\n      this._subCategoriesContainer.addEventListener(\"click\", (e) => {\r\n        const subCategory = this._changeSubCategory(e);\r\n        if (!subCategory) return;\r\n        handler(subCategory);\r\n      });\r\n\r\n    if (this._recipeSeeMoreBtn)\r\n      this._recipeSeeMoreBtn.addEventListener(\"click\", (e) => {\r\n        handler(\r\n          this._data.curCategories,\r\n          false,\r\n          this._recipeSeeMoreBtn.dataset.goto\r\n        );\r\n      });\r\n\r\n    if (this._subCategoriesContainer)\r\n      (() => {\r\n        const removeSpinner = this.renderLoadingSpinner(this._recipeContainer);\r\n        handler(\"all\");\r\n      })();\r\n  }\r\n\r\n  addAddToCartHandler(handler) {\r\n    if (this._recipeOptionsBuyBtn) {\r\n      this._recipeOptionsBuyBtn.addEventListener(\"click\", (e) => {\r\n        const id = this._recipeOptionsBuyBtn.dataset.id;\r\n        const isValidOrder = this._getOrderData(id);\r\n        if (!isValidOrder) return;\r\n        handler(this._data.shoppingCart);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new MenuView();\r\n","import View from \"./View.js\";\r\n\r\nclass ShoppingCartVeiw extends View {\r\n  _shoppingCartItemContainer = document.querySelector(\".pedidos-cart\");\r\n  _shoppingCartCheckOutBtn = document.querySelector(\".button-buy-cart\");\r\n\r\n  renderShoppingCart(data) {\r\n    this._data = data;\r\n\r\n    this._shoppingCartItemContainer.innerHTML = \"\";\r\n\r\n    const markup = this._generateShoppingCartMarkup(this._data);\r\n\r\n    this._shoppingCartItemContainer.insertAdjacentHTML(\"beforeend\", markup);\r\n\r\n    if (data.shoppingCart.length > 0)\r\n      this._shoppingCartCheckOutBtn.innerHTML = \"Finalizar Pedido\";\r\n    else this._shoppingCartCheckOutBtn.innerHTML = \"Seu Carrinho Está Vazio\";\r\n  }\r\n\r\n  _generateShoppingCartMarkup(data) {\r\n    if (!data.shoppingCart.length > 0)\r\n      return `<span>Seu carrinho está vazio.</span>`;\r\n\r\n    console.log(data);\r\n\r\n    return data.shoppingCart\r\n      .map((el) => {\r\n        console.log(el);\r\n        data.recipes.find;\r\n        return `\r\n        <div class=\"shopping-cart-item\" data-id=\"${el._id}\">\r\n            <div class=\"shopping-cart-item-image\">\r\n                <img\r\n                src=\"../img/recipes/${el.image}\"\r\n                alt=\"${el.name}\"\r\n                />\r\n            </div>\r\n    \r\n          <div class=\"shopping-cart-item-info\">\r\n            <div class=\"shopping-cart-item-name-price\">\r\n              <p>${el.name}</p>\r\n              <span>${this._convertToCurrencyBrl(el.price)}</span>\r\n            </div>\r\n            <ul class=\"shopping-cart-item-options\">\r\n              ${el.options.map(\r\n                (option) =>\r\n                  `<li><b>${option.optionTitle}:</b> ${option[\r\n                    Object.keys(option)[1]\r\n                  ].map((el) => `${el}`)}</li>`\r\n              )}\r\n              \r\n            </ul>\r\n          </div>\r\n        </div>\r\n        `;\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  addCreateOrderHandler(handler) {\r\n    if (this._shoppingCartCheckOutBtn)\r\n      this._shoppingCartCheckOutBtn.addEventListener(\"click\", (e) => {\r\n        handler(this._data.shoppingCart);\r\n      });\r\n  }\r\n}\r\n\r\nexport default new ShoppingCartVeiw();\r\n","import View from \"./View.js\";\r\n\r\nclass CheckoutInfoView extends View {\r\n  _blurOverlay = document.querySelector(\".blur-overlay\");\r\n  _checkoutAddressContainer = document.querySelector(\".checkout-address\");\r\n  _addAddressBtn = document.querySelector(\".addAdressBtn\");\r\n  _closeAddressFormBtn = document.querySelector(\".close-form-btn\");\r\n  _formInputCEP = document.querySelector(\".address-form-input-CEP\");\r\n  _formInputState = document.querySelector(\".address-form-input-state\");\r\n  _formInputCity = document.querySelector(\".address-form-input-city\");\r\n  _formInputNeighbourhood = document.querySelector(\r\n    \".address-form-input-neighbourhood\"\r\n  );\r\n  _formInputStreet = document.querySelector(\".address-form-input-street\");\r\n  _formInputHouseNumber = document.querySelector(\r\n    \".address-form-input-house-number\"\r\n  );\r\n  _formInputCompliment = document.querySelector(\r\n    \".address-form-input-compliment\"\r\n  );\r\n  _addressForm = document.querySelector(\".address-form\");\r\n\r\n  _checkoutProcceedBtn = document.querySelector(\".checkout-procceed\");\r\n  constructor() {\r\n    super();\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._checkoutAddressContainer) {\r\n      this._blurOverlay.addEventListener(\"click\", (e) => {\r\n        this._hideModal(this._addressForm);\r\n      });\r\n\r\n      if (this._addressForm)\r\n        this._addressForm.addEventListener(\"click\", (e) => {\r\n          const closeBtn = e.target.closest(\".close-form-btn\");\r\n          if (closeBtn) return this._hideModal(this._addressForm);\r\n        });\r\n\r\n      if (this._addAddressBtn)\r\n        this._addAddressBtn.addEventListener(\"click\", (e) => {\r\n          console.log(\"click\");\r\n          this._showModal(this._addressForm);\r\n        });\r\n\r\n      this._checkoutProcceedBtn.addEventListener(\"click\", () => {\r\n        this._createPreference();\r\n      });\r\n    }\r\n  }\r\n\r\n  addHandlerCEPFetch(handler) {\r\n    if (this._formInputCEP)\r\n      this._formInputCEP.addEventListener(\"blur\", (e) => {\r\n        e.preventDefault();\r\n        const cep = this._formInputCEP.value.replaceAll(\"-\", \"\");\r\n\r\n        if (/^\\d{8}$/.test(cep)) {\r\n          handler(cep, this);\r\n        }\r\n      });\r\n  }\r\n\r\n  addCEPInfo(data) {\r\n    this._formInputState.value = data.stateShortname;\r\n    this._formInputCity.value = data.city;\r\n    this._formInputNeighbourhood.value = data.district;\r\n    this._formInputStreet.value = data.street;\r\n  }\r\n\r\n  addHandlerAddAddress(handler) {\r\n    if (this._addressForm)\r\n      this._addressForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n          residenceType: this._formInputResidenceType.value,\r\n          CEP: this._formInputCEP.value.replace(\"-\", \"\"),\r\n          state: this._formInputState.value,\r\n          city: this._formInputCity.value,\r\n          neighbourhood: this._formInputNeighbourhood.value,\r\n          street: this._formInputStreet.value,\r\n          houseNumber: this._formInputHouseNumber.value,\r\n          compliment: this._formInputCompliment.value,\r\n        };\r\n\r\n        handler(data);\r\n      });\r\n  }\r\n\r\n  async _createPreference() {\r\n    const client = new MercadoPagoConfig({\r\n      accessToken:\r\n        \"TEST-4517457179055625-052923-f6e53e64bd1f002c8dcc78bd8fee1913-635703940\",\r\n    });\r\n\r\n    const preference = new Preference(client);\r\n\r\n    const body = {\r\n      items: [\r\n        {\r\n          id: \"1234\",\r\n          title: \"Picanha\",\r\n          description:\r\n            \"Tamanho: pequeno; Proteínas:Mignon,bife,frango; Molho: Pomodoro \",\r\n          quantity: 1,\r\n          currency_id: \"BRL\",\r\n          unit_price: 150.99,\r\n        },\r\n        {\r\n          id: \"0\",\r\n          title: \"Frete\",\r\n          quantity: 1,\r\n          currency_id: \"BRL\",\r\n          unit_price: 8,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const response = await preference\r\n      .create({ body })\r\n      .then(console.log)\r\n      .catch(console.log);\r\n  }\r\n}\r\n\r\nexport default new CheckoutInfoView();\r\n","import View from \"./View.js\";\r\nimport { URL } from \"../config.js\";\r\n\r\nclass checkoutCreditCardView extends View {\r\n  _creditCardFormContainer = document.querySelector(\r\n    \".checkout-credit-card-form-container\"\r\n  );\r\n\r\n  constructor() {\r\n    super();\r\n    this._init();\r\n  }\r\n\r\n  async _init() {\r\n    if (this._creditCardFormContainer) {\r\n      //   await loadMercadoPago();\r\n      const mp = new window.MercadoPago(\r\n        \"TEST-decd35ff-fe9e-420d-adc4-d0fc9879a078\"\r\n      );\r\n\r\n      const cardForm = mp.cardForm({\r\n        amount: \"100.5\",\r\n        iframe: true,\r\n        form: {\r\n          id: \"form-checkout\",\r\n          cardNumber: {\r\n            id: \"form-checkout__cardNumber\",\r\n            placeholder: \"Número do cartão\",\r\n          },\r\n          expirationDate: {\r\n            id: \"form-checkout__expirationDate\",\r\n            placeholder: \"MM/YY\",\r\n          },\r\n          securityCode: {\r\n            id: \"form-checkout__securityCode\",\r\n            placeholder: \"Código de segurança\",\r\n          },\r\n          cardholderName: {\r\n            id: \"form-checkout__cardholderName\",\r\n            placeholder: \"Titular do cartão\",\r\n          },\r\n          issuer: {\r\n            id: \"form-checkout__issuer\",\r\n            placeholder: \"Banco emissor\",\r\n          },\r\n          installments: {\r\n            id: \"form-checkout__installments\",\r\n            placeholder: \"Parcelas\",\r\n          },\r\n          identificationType: {\r\n            id: \"form-checkout__identificationType\",\r\n            placeholder: \"Tipo de documento\",\r\n          },\r\n          identificationNumber: {\r\n            id: \"form-checkout__identificationNumber\",\r\n            placeholder: \"Número do documento\",\r\n          },\r\n          cardholderEmail: {\r\n            id: \"form-checkout__cardholderEmail\",\r\n            placeholder: \"E-mail\",\r\n          },\r\n        },\r\n        callbacks: {\r\n          onFormMounted: (error) => {\r\n            if (error)\r\n              return console.warn(\"Form Mounted handling error: \", error);\r\n            console.log(\"Form mounted\");\r\n          },\r\n          onSubmit: (event) => {\r\n            event.preventDefault();\r\n\r\n            const {\r\n              paymentMethodId: payment_method_id,\r\n              issuerId: issuer_id,\r\n              cardholderEmail: email,\r\n              amount,\r\n              token,\r\n              installments,\r\n              identificationNumber,\r\n              identificationType,\r\n            } = cardForm.getCardFormData();\r\n\r\n            fetch(``, {\r\n              method: \"POST\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n              body: JSON.stringify({\r\n                token,\r\n                issuer_id,\r\n                payment_method_id,\r\n                transaction_amount: Number(amount),\r\n                installments: Number(installments),\r\n                description: \"Descrição do produto\",\r\n                payer: {\r\n                  email,\r\n                  identification: {\r\n                    type: identificationType,\r\n                    number: identificationNumber,\r\n                  },\r\n                },\r\n              }),\r\n            });\r\n          },\r\n          onFetching: (resource) => {\r\n            console.log(\"Fetching resource: \", resource);\r\n\r\n            // Animate progress bar\r\n            const progressBar = document.querySelector(\".progress-bar\");\r\n            progressBar.removeAttribute(\"value\");\r\n\r\n            return () => {\r\n              progressBar.setAttribute(\"value\", \"0\");\r\n            };\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new checkoutCreditCardView();\r\n"],"names":[],"version":3,"file":"controller.js.map","sourceRoot":"../"}